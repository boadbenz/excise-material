<ng-template #printDocModal let-c="close" let-d="dismiss">
    <app-printdoc-modal (c)="modal.close()" (d)="modal.dismiss()" [RevenueID]="RevenueID"></app-printdoc-modal>
</ng-template>

<!-- <div class="wizard-content" style="margin-bottom: 10px;">
    <div class="wizard-circle wizard clearfix clearfix">
        <div class="steps tab-wizard">
            <ul role="tablist">
                <li role="tab" class="current" aria-disabled="false" aria-selected="true">
                    <a>
                        <span class="current-info audible">current step: </span>
                        <span class="step"></span> 1. ใบแจ้งความนำจับ</a>
                </li>
                <li role="tab" class="current" aria-disabled="true">
                    <a>
                        <span class="step"></span> 2. งานจับกุม </a>
                </li>
                <li role="tab" class="current" aria-disabled="true">
                    <a>
                        <span class="step"></span> 3. รับคำกล่าวโทษ </a>
                </li>
                <li role="tab" class="current" aria-disabled="true">
                    <a>
                        <span class="step"></span> 4. งานตรวจรับและพิสูจน์ของกลาง </a>
                </li>
                <li role="tab" class="current" aria-disabled="true">
                    <a>
                        <span class="step"></span> 5. งานเปรียบเทียบและชำระค่าปรับ </a>
                </li>
                <li role="tab" class="current" aria-disabled="true">
                    <a>
                        <span class="step"></span> 6. นำส่งเงินรายได้ </a>
                </li>
                <li role="tab" class="disabled" aria-disabled="true">
                    <a>
                        <span class="step"></span> 7. คำร้องขอรับเงินสินบนรางวัล </a>
                </li>
            </ul>
        </div>
    </div>
</div> -->


<form class="form-horizontal">
    <!-- รายละเอียดประกอบการนำส่ง จากหน่วยงานภายใน -->
    <div *ngIf="evitype == 'I'" class="card card-outline-bluish unset-radius">
        <div class="card-header unset-radius">
            <app-card-actions-collapse></app-card-actions-collapse>
            <h4 class="card-title m-b-0">รายละเอียดประกอบการนำส่ง</h4>
        </div>
        <div class="card-body">


            <div class="row">
                <label for="" class="col-lg-2 col-sm-4 control-label">เลขที่ใบงาน :</label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" name="RevenueCode" [(ngModel)]="RevenueCode" class="form-control form-control-sm" disabled>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">วันที่จับกุม :
                </label>
                <div class="form-group input-group  col-lg-4 col-md-7">
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" style="height: 30px;" class="form-control form-control-sm"
                        readonly>
                    <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" style="height: 30px;" class="form-control form-control-sm"
                        readonly>
                </div>
            </div>

            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">ผู้กล่าวหา :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" name="RevenueNo" [(ngModel)]="RevenueNo" class="form-control form-control-sm" readonly>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">ตำแหน่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>

            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">หน่วยงาน :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">สถานที่จับกุม :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>

            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">เลขที่คดีรับคำกล่าวโทษ :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">วันที่รับคดี :
                </label>
                <div class="form-group input-group  col-lg-4 col-md-7">
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" readonly>
                    <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" readonly>
                </div>
            </div>

            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">ฐานความผิดมาตรา :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">ฐานความผิด :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">บทกำหนดโทษ :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">อัตราโทษ :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">เลขที่หนังสือนำส่ง :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">วันที่นำส่ง :
                </label>
                <div class="form-group input-group  col-lg-4 col-md-7">
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" readonly>
                    <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                    <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" readonly>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">ผู้นำส่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" name="RevenueNo" [(ngModel)]="RevenueNo" class="form-control form-control-sm" readonly>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">ตำแหน่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">หน่วยงาน :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>
            </div>
        </div>
    </div>


    <!-- รายละเอียดประกอบการนำส่ง จากหน่วยงานภายนอก -->
    <div *ngIf="evitype == 'E'" class="card card-outline-bluish unset-radius">
        <div class="card-header unset-radius">
            <app-card-actions-collapse></app-card-actions-collapse>
            <h4 class="card-title m-b-0">รายละเอียดประกอบการนำส่ง</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">เลขที่หนังสือนำส่ง :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" [disabled]="showEditField"
                        [ngClass]="{'ng-touched':isRequired}" required>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">วันที่นำส่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-9">
                    <div class="form-group input-group">
                        <my-date-picker-th class="form-control form-control-sm unset-form-control" name="OccurrenceDateFrom" [options]="myDatePickerOptions"
                            (dateChanged)="onSDateChange($event)" ngModel [disabled]="showEditField" [ngClass]="{'ng-touched':isRequired}"
                            required></my-date-picker-th>

                        <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                        <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" [disabled]="showEditField"
                            [ngClass]="{'ng-touched':isRequired}" required>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">วันที่รับคืน :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-9">
                    <div class="form-group input-group">
                        <my-date-picker-th class="form-control form-control-sm unset-form-control" name="OccurrenceDateFrom" [options]="myDatePickerOptions"
                            (dateChanged)="onSDateChange($event)" ngModel [disabled]="showEditField" [ngClass]="{'ng-touched':isRequired}"
                            required></my-date-picker-th>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">ผู้นำส่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" name="RevenueNo" [(ngModel)]="RevenueNo" class="form-control form-control-sm" [disabled]="showEditField"
                            [ngClass]="{'ng-touched':isRequired}" required>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">ตำแหน่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">หน่วยงาน :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>
            </div>

            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">เหตุผลในการนำส่ง :</label>
                <div class="form-group col-lg-10 col-md-12">
                    <input type="text" [(ngModel)]="Remarks" name="Remarks" class="form-control"
                        [disabled]="showEditField">
                </div>
            </div>
        </div>
    </div>


    <!-- รายละเอียดประกอบการนำส่ง นำออกจากคลังไปใช้ทางราชการ -->
    <div *ngIf="evitype == 'G'" class="card card-outline-bluish unset-radius">
        <div class="card-header unset-radius">
            <app-card-actions-collapse></app-card-actions-collapse>
            <h4 class="card-title m-b-0">รายละเอียดประกอบการนำส่ง</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">เลขที่หนังสือนำส่ง :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" [disabled]="showEditField"
                        [ngClass]="{'ng-touched':isRequired}" required>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">วันที่นำส่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-9">
                    <div class="form-group input-group">
                        <my-date-picker-th class="form-control form-control-sm unset-form-control" name="OccurrenceDateFrom" [options]="myDatePickerOptions"
                            (dateChanged)="onSDateChange($event)" ngModel [disabled]="showEditField" [ngClass]="{'ng-touched':isRequired}"
                            required></my-date-picker-th>

                        <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                        <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" [disabled]="showEditField"
                            [ngClass]="{'ng-touched':isRequired}" required>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">ผู้นำส่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" name="RevenueNo" [(ngModel)]="RevenueNo" class="form-control form-control-sm" [disabled]="showEditField"
                            [ngClass]="{'ng-touched':isRequired}" required>
                    </div>
                </div>

                <label for="" class="col-lg-2 col-md-4 control-label">ตำแหน่ง :
                </label>
                <div class="col-lg-4 col-md-7 col-sm-8">
                    <div class="form-group ">
                        <input type="text" [(ngModel)]="PosSend" name="PosSend" class="form-control form-control-sm" readonly>
                    </div>
                </div>
            </div>
            <div class="row">
                <label for="" class="col-lg-2 col-md-4 control-label">หน่วยงาน :
                </label>
                <div class="form-group col-lg-4 col-md-7 col-sm-8">
                    <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" readonly>
                </div>
            </div>
        </div>
    </div>

    <!-- รายละเอียดการตรวจรับของกลาง -->
    <div class="card card-outline-bluish unset-radius">
        <div class="card-header unset-radius">
            <app-card-actions-collapse></app-card-actions-collapse>
            <h4 class="card-title m-b-0">รายละเอียดการตรวจรับของกลาง</h4>
        </div>
        <div class="card-body">
            <div *ngIf="evitype == 'E'" class="row form-group">
                <div class="col-lg-10 col-md-9 col-sm-8"></div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <button class="btn btn-block btn-themecolor" (click)="AddDocument()" [disabled]="showEditField">เพิ่มของกลาง</button>
                </div>
            </div>

            <form class="form-horizontal">
                <div class="card">
                    <div class="card-body">

                        <div class="table-responsive table-striped ">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ลำดับ</th>
                                        <th>เลขทะเบียนบัญชี</th>
                                        <th>ของกลาง</th>
                                        <th>จำนวนส่ง</th>
                                        <th>หน่วย</th>
                                        <th>ชำรุด</th>
                                        <th>หน่วย</th>
                                        <th>จำนวนรับ</th>
                                        <th>หน่วย</th>
                                        <th>หมายเหตุ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of ArrestProduct; let i=index;">
                                        <td>{{i + 1}}</td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                        <td>
                                            <select [(ngModel)]="oProveProduct.QtyUnit" name="oProveProduct.QtyUnit" class="form-control" [disabled]="showEditField">
                                                <option *ngFor="let opt of UnitOption" value={{opt.DutyCode}}>{{opt.DutyCode}}
                                                </option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                        <td>
                                            <select [(ngModel)]="oProveProduct.QtyUnit" name="oProveProduct.QtyUnit" class="form-control" [disabled]="showEditField">
                                                <option *ngFor="let opt of UnitOption" value={{opt.DutyCode}}>{{opt.DutyCode}}
                                                </option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                        <td>
                                            <select [(ngModel)]="oProveProduct.QtyUnit" name="oProveProduct.QtyUnit" class="form-control" [disabled]="showEditField">
                                                <option *ngFor="let opt of UnitOption" value={{opt.DutyCode}}>{{opt.DutyCode}}
                                                </option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <label for="" class="col-lg-2 col-md-4 control-label">เลขที่รับ :
                    </label>
                    <div class="col-lg-4 col-md-7 col-sm-8">
                        <div class="form-group ">
                            <input type="text" [(ngModel)]="ArrestCode" name="ArrestCode" class="form-control form-control-sm" readonly>
                        </div>
                    </div>

                    <label for="" class="col-lg-2 col-md-4 control-label">วันที่รับ :
                    </label>
                    <div class="col-lg-4 col-md-7 col-sm-9">
                        <div class="form-group input-group">
                            <my-date-picker-th class="form-control form-control-sm unset-form-control" name="OccurrenceDateFrom" [options]="myDatePickerOptions"
                                (dateChanged)="onSDateChange($event)" ngModel></my-date-picker-th>

                            <label for="" class="">&nbsp; เวลา : &nbsp;</label>
                            <input type="text" [(ngModel)]="RevenueTime" name="RevenueTime" class="form-control form-control-sm" readonly>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <label for="" class="col-lg-2 col-md-4 control-label">ผู้ตรวจรับ :
                    </label>
                    <div class="form-group col-lg-4 col-md-7 col-sm-8">
                        <input type="text" class="form-control form-control-sm" [(ngModel)]="StaffSendName" name="StaffSendName" placeholder="พิมพ์ข้อความ"
                            aria-label="Number" matInput [matAutocomplete]="auto" (input)="StaffSendonAutoChange($event.target.value)"
                            (focus)="StaffSendonAutoFocus($event.target.value)" [disabled]="showEditField" [ngClass]="{'ng-touched':isRequired}"
                            required>
                        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                            <mat-option *ngFor="let ssOption of StaffSendoptions" [value]="ssOption.TitleName + ssOption.FirstName + ' ' + ssOption.LastName"
                                (click)="StaffSendonAutoSelecteWord(ssOption)" (onSelectionChange)="StaffSendonAutoSelecteWord(ssOption)">
                                {{ ssOption.TitleName }}{{ ssOption.FirstName }} {{ ssOption.LastName }}
                            </mat-option>
                        </mat-autocomplete>
                    </div>

                    <label for="" class="col-lg-2 col-md-4 control-label">ตำแหน่ง :
                    </label>
                    <div class="form-group col-lg-4 col-md-7 col-sm-8">
                        <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" [ngClass]="{'ng-touched':isRequired}"
                            required readonly>
                    </div>

                </div>

                <div class="row">
                    <label for="" class="col-lg-2 col-md-4 control-label">หน่วยงาน :
                    </label>
                    <div class="form-group col-lg-4 col-md-7 col-sm-8">
                        <input type="text" [(ngModel)]="DeptSend" name="DeptSend" class="form-control form-control-sm" [ngClass]="{'ng-touched':isRequired}"
                            required readonly>
                    </div>
                </div>
            </form>

        </div>
    </div>

    <!-- เอกสารแนบภายใน -->
    <div class="card card-outline-bluish unset-radius">
        <div class="card-header unset-radius">
            <app-card-actions-collapse></app-card-actions-collapse>
            <h4 class="card-title m-b-0">เอกสารแนบภายใน</h4>
        </div>
        <div class="card-body">
            <div class="row form-group">
                <div class="col-lg-10 col-md-9 col-sm-8"></div>
                <div class="col-lg-2 col-md-3 col-sm-4">
                    <button class="btn btn-block btn-themecolor" (click)="AddDocument()" [disabled]="showEditField">เพิ่มเอกสารแนบ</button>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive table-striped ">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th style="text-align: center">ลำดับ</th>
                                    <th>ชื่อเอกสารแนบ</th>
                                    <th>ที่อยู่เอกสารแนบ</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let lsDoc of ListProveDoc ; let i=index;">
                                    <td style="text-align: center">{{i+1}}</td>
                                    <td>
                                        <input type="text" [(ngModel)]="lsDoc.DocumentName" name="lsDoc.DocumentName" class="form-control" [disabled]="showEditField">
                                    </td>
                                    <td>
                                        <div class="input-group">
                                            <input type="text" class="form-control" [(ngModel)]="lsDoc.FilePath" name="lsDoc.FilePath" style="border-right: 0;" [disabled]="showEditField">
                                            <div class="input-group-append">
                                                <input [id]="'communicateAttach'+lsDoc.DocumentSeq" type="file" (change)="changeComunicateFile($event, lsDoc.DocumentSeq)"
                                                    hidden>
                                                <label [for]="'communicateAttach'+lsDoc.DocumentSeq" class="input-group-text custom-file-upload text-secondary" [hidden]="showEditField">
                                                    <i class="ti-more-alt"></i>
                                                </label>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="javaScript:void(0);" class="text-warning">
                                            <i class="fa fa-trash-o fa-lg" (click)="DelDocument(lsDoc.DocumentSeq)" [hidden]="showEditField"></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>