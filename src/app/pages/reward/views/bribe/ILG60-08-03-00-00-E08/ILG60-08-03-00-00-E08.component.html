<form [formGroup]="formGroup" (change)="changeForm(formGroup)">
  <div class="row">
    <div class="col-md-6">
      <div class="form-group row">
        <input type="hidden" formControlName="CommandDetailID">
        <label class="col-form-label col-md-4">เลขที่ใบแจ้งความนำจับ : </label>
        <div class="col-md-8">
          <select formControlName="CommandDetailID" class="form-control form-control-sm" #CommandDetailID (change)="selectChange(CommandDetailID.value)"
            [attr.disabled]="isEdit ? null : 'disabled'">
            <option [value]="item.value" *ngFor="let item of RequestCommand_NoticeCode_list">
              {{item.text}}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group row">
        <label class="col-form-label col-md-4">เลขที่คำร้องขอ : </label>
        <div class="col-md-8">
          <input class="form-control form-control-sm" type="text" formControlName="RequestBribeCode" [attr.disabled]="'disabled'">
        </div>
      </div>
    </div>


  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group row">
        <label class="col-form-label col-md-4">เขียนที่ : </label>
        <div class="col-md-8">
          <input class="form-control form-control-sm" type="text" formControlName="Station" [ngbTypeahead]="searchStation"
            [attr.disabled]="isEdit ? null : 'disabled'">
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group row">
        <label class="col-form-label col-md-4">วันที่จัดทำ : </label>
        <div class="col-md-3">
          <my-date-picker formControlName="RequestDate" placeholder="dd/mm/yyyy" locale="th" [options]="myDatePickerOptions"
            [disabled]="!isEdit"></my-date-picker>
          <!-- <input class="form-control form-control-sm" type="text" formControlName="RequestDate"> -->
        </div>
        <label class="col-form-label text-center col-md-2">เวลา</label>
        <div class="col-md-3">
          <input class="form-control form-control-sm" type="text" formControlName="RequestTime" [attr.disabled]="isEdit ? null : 'disabled'">
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="form-group row">
        <label class="col-form-label col-md-2">ผู้แจ้งความได้ทราบว่า : </label>
        <div class="col-md-10">
          <textarea class="form-control form-control-sm" rows="8" formControlName="Informeracknowledge" [attr.disabled]="isEdit ? null : 'disabled'"></textarea>
        </div>
      </div>
    </div>
  </div>

</form>
<div class="table-responsive">
  <table class="dataTable table table-sm table-striped table-hover">
    <thead>
      <tr>
        <th></th>
        <th class="footable-sortable text-center">ลำดับ</th>
        <th class="footable-sortable">ชื่อผู้ต้องหา</th>
        <th class="footable-sortable">ลักษณะคดี</th>
        <th class="footable-sortable">วันที่ชำระ</th>
        <th class="footable-sortable">ใบเสร็จเล่มที่</th>
        <th class="footable-sortable">เลขที่อ้างอิง</th>
        <th class="footable-sortable">งวดชำระ</th>
        <th class="footable-sortable">ค่าปรับตามงวด</th>
        <th class="footable-sortable">เงินสินบน</th>
        <th class="footable-sortable">เงินสินบนสุทธิ</th>
      </tr>
    </thead>
    <tbody>
      <tr class="footable" *ngFor="let item of tableDetail;let i=index">
        <td>
          <input type="checkbox" [id]="'td'+i" name="ischeck" #check [(ngModel)]="checkList[i]" class="filled-in chk-col-indigo"
            (change)="checkListChange(item.PaymentFineDetailID, check.checked)" [attr.disabled]="isEdit ? null : 'disabled'">
          <label [for]="'td'+i" class="m-0"></label>
        </td>
        <td class="text-center">{{i+1}}</td>
        <td class="">{{item.LawbreakerName}}</td>
        <td class="">{{item.FineTypeName}}</td>
        <td>{{item.PaymentDate | thaiDate}}</td>
        <td class="text-center">{{item.ReceiptBookNo}}</td>
        <td class="">{{item.Receipt}}</td>
        <td class="">{{item.PaymentPeriodNo}}</td>
        <td>{{(item.PaymentFine || 0) | currency:' '}}</td>
        <td>{{(item.BribeMoney || 0) | currency:' '}}</td>
        <td>{{(item.NetBribeMoney || 0) | currency:' ' }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <th class="text-right" colspan="8">
          รวม :
        </th>
        <td>{{(total()?.PaymentFine || 0) | currency:' '}}</td>
        <td>{{(total()?.BribeMoney || 0) | currency:' '}}</td>
        <td>{{(total()?.NetBribeMoney || 0) | currency:' ' }}</td>
      </tr>
    </tfoot>
  </table>
</div>
