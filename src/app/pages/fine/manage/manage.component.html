<ng-template #printDocModal let-c="close" let-d="dismiss">
  <app-printdoc-modal [ArrestCode]="params.ArrestCode" (c)="modal.close()" (d)="modal.dismiss()"></app-printdoc-modal>
</ng-template>
<!-- <div style="height: 100px; background-color: white;border: 1px solid #ccc;">
<div *ngFor="let option of options" style="padding:2px;">
    {{ option.OfficeName }}
</div>
</div> -->

<div class="wizard-content">
  <div class="wizard-circle wizard clearfix clearfix">
    <div class="steps tab-wizard">
      <ul role="tablist">
        <li role="tab" class="current" aria-disabled="false" aria-selected="true">
          <a>
            <span class="current-info audible">current step: </span>
            <span class="step"></span> 1. ใบแจ้งความนำจับ</a>
        </li>
        <li role="tab" class="current" aria-disabled="true">
          <a>
            <span class="step"></span> 2. งานจับกุม </a>
        </li>
        <li role="tab" class="current" aria-disabled="true">
          <a>
            <span class="step"></span> 3. รับคำกล่าวโทษ </a>
        </li>
        <li role="tab" class="current" aria-disabled="true">
          <a>
            <span class="step"></span> 4. งานตรวจรับและพิสูจน์ของกลาง </a>
        </li>
        <li role="tab" class="current" aria-disabled="true">
          <a>
            <span class="step"></span> 5. งานเปรียบเทียบและชำระค่าปรับ </a>
        </li>
        <li role="tab" class="disabled" aria-disabled="true">
          <a>
            <span class="step"></span> 6. นำส่งเงินรายได้ </a>
        </li>
        <li role="tab" class="disabled" aria-disabled="true">
          <a>
            <span class="step"></span> 7. คำร้องขอรับเงินสินบนรางวัล </a>
        </li>
      </ul>
    </div>
  </div>
</div>

<!-- [formGroup]="CompareForm" -->
<form class="form-horizontal">
  <div class="card ">
    <div class="card-header  unset-radius">
      <app-card-actions-collapse></app-card-actions-collapse>
      <h4 class="card-title m-b-0">รายละเอียดข้อกล่าวหา</h4>
    </div>
    <div class="card-body">
      <div class="form-body">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">เลขที่ใบงาน : </label>
              <div class="col-md-8">
                <input class="form-control" [(ngModel)]="headerData.ArrestCode" type="text" name="ArrestCode" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">เลขที่คดีรับคำกล่าวโทษ : </label>
              <div class="col-md-8">
                <input class="form-control" [(ngModel)]="headerData.LawsuitNo" type="text" name="LawsuiltCode" disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">ทะเบียนตรวจพิสูจน์ : </label>
              <div class="col-md-8">
                <input class="form-control" [(ngModel)]="headerData.ProveReportNo" type="text" name="ProveReportNo" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">วันที่รับทำคดี : </label>
              <div class="col-md-3">
                <input class="form-control" [(ngModel)]="headerData.LawsuitDate" type="text" name="LawsuiltDate" disabled>
              </div>
              <label class="col-form-label text-center col-md-2">เวลา</label>
              <div class="col-md-3">
                <input class="form-control" [(ngModel)]="headerData.LawsuitTime" type="text" name="LawsuiltTime" disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">ผู้กล่าวหา : </label>
              <div class="col-md-8">
                <input class="form-control" [(ngModel)]="headerData.ArrestStaffName" type="text" name="ArrestStaffName" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">ตำแหน่ง : </label>
              <div class="col-md-8">
                <input class="form-control" type="text" [(ngModel)]="headerData.PositionName" name="PositionName" disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">หน่วยงาน : </label>
              <div class="col-md-8">
                <input class="form-control" type="text" [(ngModel)]="headerData.OfficeShortName" name="DepartmentName" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">สถานที่จับกุม : </label>
              <div class="col-md-8">
                <input class="form-control" type="text" [(ngModel)]="headerData.ArrestLocation" name="ArrestLocation" disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">ฐานความผิดมาตรา : </label>
              <div class="col-md-8">
                <input class="form-control" type="text" [(ngModel)]="headerData.SectionNo" name="SectionName" disabled>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">บทกำหนดโทษ : </label>
              <div class="col-md-8">
                <input class="form-control" type="text" [(ngModel)]="headerData.SectionNo" name="SectionNo" disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
              <div class="form-group row">
                <label class="col-form-label col-md-4">ฐานความผิด : </label>
                <div class="col-md-8">
                    <textarea class="form-control" rows="5"
                    [(ngModel)]="headerData.GuiltbaseName" name="GuiltbaseName" disabled></textarea>
                  <!-- <input class="form-control" type="text" [(ngModel)]="headerData.SectionNo" name="SectionNo" disabled> -->
                </div>
              </div>
            </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-4">อัตราโทษ : </label>
              <div class="col-md-8">
                  <textarea class="form-control" rows="5"
                  [(ngModel)]="headerData.PenaltyDesc" name="PenaltyDesc" disabled></textarea>
                <!-- <input class="form-control" type="text" [(ngModel)]="headerData.PenaltyDesc" name="PenaltyDesc" disabled> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<!-- เงินค่าปรับ -->
<div class="card ">
  <div class="card-header  unset-radius">
    <app-card-actions-collapse></app-card-actions-collapse>
    <h4 class="card-title m-b-0">รายละเอียดเงินค่าปรับ</h4>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="dataTable table table-sm table-striped table-hover">
        <thead>
        <tr>
          <th class="footable-sortable" style="width:15%">ชื่อผู้ต้องหา</th>
          <th class="footable-sortable" style="width:7%;">จำนวนครั้ง</th>
          <th class="footable-sortable" style="width:10%">ของกลาง</th>
          <th class="footable-sortable" style="width:7%">จำนวนเท่า</th>
          <th class="footable-sortable" style="width:7%">มูลค่าภาษี</th>
          <th class="footable-sortable" style="width:7%">ค่าปรับสุทธิ</th>
          <th class="footable-sortable" style="width:7%">ยอดชำระ</th>
          <th class="footable-sortable" style="width:7%">สินบน(20)</th>
          <th class="footable-sortable" style="width:7%">รางวัล(20)</th>
          <th class="footable-sortable" style="width:7%">ส่งคลัง(60)</th>
          <!--<th class="footable-sortable" style="width:7%">รวม</th>-->
        </tr>
        </thead>
        <tbody *ngIf="ListCompareDetail?.length > 0">
        <tr *ngFor="let item of ListCompareDetail; let i=index;" class="footable"
            [style]="item.sum ? 'font-weight: bold' : '' ">
          <td *ngIf="!item.isSum && item.isFirstLoop"><p>{{ item.LawbreakerName }}</p></td>
          <td *ngIf="!item.isSum && item.isFirstLoop">{{ item.Mistreat }}</td>
          <!-- <td>{{ item.isFirstLoop + ' ' + item.isSum }}</td> -->
          <td *ngIf="!item.isSum && !item.isFirstLoop" colspan="2"></td>
          <td *ngIf="item.isSum && accused.list?.length > 1" colspan="6"></td>

          <td *ngIf="!item.isSum && item.product"><p>{{ item.product.BrandNameTH }}</p></td>
          <td *ngIf="!item.isSum">{{ item.multi }}</td>
          <td *ngIf="!item.isSum && item.product">{{ formatMoney(roundDigit(item.FineAmount)) }}</td>
          <td *ngIf="!item.isSum && item.product">{{ formatMoney(roundDigit(item.all)) }}</td>

          <td *ngIf="!item.isSum"><input class="form-control" [(ngModel)]="item['userNo' + item.userNo + ':' + i]" (keyup)="calSum('userNo' + item.userNo + ':' + i)" [disabled]="showEditField" step='0.01' value='0.00' type='number' [name]="'item' + i"></td>
          <td *ngIf="item.isSum && accused.list?.length > 1"><b>{{ formatMoney(roundDigit(item.all)) }}</b></td>

          <td *ngIf="item.product && !item.isSum">{{ formatMoney(roundDigit(item.BribeMoney)) }}</td>
          <td *ngIf="item.product && !item.isSum">{{ formatMoney(roundDigit(item.RewardMoney)) }}</td>
          <td *ngIf="item.product && !item.isSum">{{ formatMoney(roundDigit(item.TreasuryMoney)) }}</td>

          <td *ngIf="item.product && item.isSum && accused.list?.length > 1"><b>{{ formatMoney(roundDigit(item.BribeMoney)) }}</b></td>
          <td *ngIf="item.product && item.isSum && accused.list?.length > 1"><b>{{ formatMoney(roundDigit(item.RewardMoney)) }}</b></td>
          <td *ngIf="item.product && item.isSum && accused.list?.length > 1"><b>{{ formatMoney(roundDigit(item.TreasuryMoney)) }}</b></td>
        </tr>
        <tr>
          <td colspan="5"></td>
          <td><b>รวม</b></td>
          <td><b>{{ formatMoney(roundDigit(sumAllCompare.sum)) }}</b></td>
          <td><b>{{ formatMoney(roundDigit(sumAllCompare.sum1)) }}</b></td>
          <td><b>{{ formatMoney(roundDigit(sumAllCompare.sum2)) }}</b></td>
          <td><b>{{ formatMoney(roundDigit(sumAllCompare.sum3)) }}</b></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- คำให้การของผู้ต้องหา -->
<div class="card ">
  <div class="card-header  unset-radius">
    <app-card-actions-collapse></app-card-actions-collapse>
    <h4 class="card-title m-b-0">คำให้การของผู้ต้องหา</h4>
  </div>
  <div class="card-body">
    <form #accusedForm="ngForm" (ngSubmit)="saveAccusedHeader()" ngNativeValidate>
      <div class="form-body">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label  col-md-3">วันที่จัดทำ : </label>
              <div class="col-md-4">
                <my-date-picker-th [(ngModel)]="accused.CompareDate" name="CompareDate" placeholder=""
                                   locale="th"
                                   [options]="DateOption"
                                   [disabled]="showEditField"
                ></my-date-picker-th>
                <!--<input class="form-control" type="date" [(ngModel)]="CompareDate" name="CompareDate" [disabled]="showEditField" local="th">-->
              </div>
              <label class="col-form-label text-center col-md-2">เวลา</label>
              <div class="col-md-3">
                <input class="form-control without_ampm" type="time" [(ngModel)]="accused.CompareTime" name="CompareTime"
                       [disabled]="showEditField">
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-3">เขียนที่ : </label>
              <div class="col-md-9">
                <input type="text" class="form-control" [(ngModel)]="accused.StationName" name="StationName"
                       placeholder="พิมพ์ข้อความ" aria-label="Number"
                       matInput [matAutocomplete]="auto7" (input)="onAutoChange($event.target.value)"
                       (focus)="onAutoFocus($event.target.value)"
                       [disabled]="showEditField" (keydown.Tab)="chooseFirstOption($event, 1)" required>
                <mat-autocomplete #auto7="matAutocomplete">
                  <mat-option *ngFor="let station of optionsStation"
                              [value]="station.OfficeShortName"
                              (click)="onAutoSelecteWord(station, 1)">
                    {{ station.OfficeShortName }} .
                  </mat-option>
                </mat-autocomplete>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-3">ชื่อผู้เปรียบเทียบ : </label>
              <div class="col-md-9">
                <input type="text" class="form-control" [(ngModel)]="accused.CompareStaffName"
                       name="CompareStaffName"
                       placeholder="พิมพ์ข้อความ" aria-label="Number"
                       matInput [matAutocomplete]="auto3"
                       (input)="StaffonAutoChange($event.target.value)"
                       (focus)="StaffonAutoFocus($event.target.value)"
                       [disabled]="showEditField" required (keydown.Tab)="StaffonAutoSelecteWord(sOption, 2)">
                <mat-autocomplete #auto3="matAutocomplete">
                  <mat-option *ngFor="let sOption of Staffoptions"
                              [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                              (click)="StaffonAutoSelecteWord(sOption, 2)"
                              (onSelectionChange)="StaffonAutoSelecteWord(sOption, 2)">
                    {{ sOption.TitleName }}{{ sOption.FirstName }} {{ sOption.LastName }}
                  </mat-option>
                </mat-autocomplete>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-3">ตำแหน่ง : </label>
              <div class="col-md-9">
                <input class="form-control" type="text" [(ngModel)]="accused.OperationPosName"
                       name="OperationPosName" required disabled>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group row">
              <label class="col-form-label col-md-3">หน่วยงาน : </label>
              <div class="col-md-9">
                <input class="form-control" type="text" [(ngModel)]="accused.OperationDeptName"
                       name="OperationDeptName"
                       required disabled>
              </div>
            </div>
          </div>
        </div>
        <button type="submit" id="btnAccusedHeader" hidden></button>
      </div>
      <div class="table-responsive">
        <table class="dataTable table table-sm table-striped table-hover">
          <thead>
          <tr>
            <th class="footable-sortable text-center" style="width:5%">ลำดับ</th>
            <th class="footable-sortable" style="width:20%">ชื่อผู้ต้องหา</th>
            <th class="footable-sortable text-center" style="width:10%">วันที่กำหนดชำระค่าปรับ</th>
            <th class="footable-sortable text-center" style="width:10%">วันที่กำหนดชำระภาษี</th>
            <th class="footable-sortable text-center" style="width:10%">การแจ้งสิทธิ์</th>
            <th class="footable-sortable text-center" style="width:10%">ปล่อยตัวชั่วคราว</th>
            <th class="footable-sortable text-center" style="width:5%"></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of accused.list; let i=index;" class="footable">
            <td class="text-center">{{i + 1}}</td>
            <td>{{item.LawbreakerName }}</td>
            <td class="text-center">
              <my-date-picker-th [(ngModel)]="item.PaymentFineAppointDate" [name]="'CompareDate' + i" placeholder=""
              (dateChanged)="canCheck($event, i)"
              locale="th"
              [options]="DateOption"
              [disabled]="showEditField ? true : false"
              ></my-date-picker-th>
            </td>
            <td class="text-center">
                <my-date-picker-th [(ngModel)]="item.PaymentVatDate" [name]="'PaymentVatDate' + i" placeholder="" locale="th"
                [options]="DateOption"
                [disabled]="showEditField || item.isFillVatDate"
                ></my-date-picker-th>
            </td>
            <td>
              <select [(ngModel)]="item.request" class="form-control" [name]="'request' + i" [disabled]="showEditField">
                <option [ngValue]="1">
                  ร้องขอ
                </option>
                <option [ngValue]="0">
                  ไม่ร้องขอ
                </option>
              </select>
            </td>
            <td class="text-center">
              <span *ngIf="item.cancheck && item.checkBox1 && !item.checkBox2">ประกัน</span>
              <span *ngIf="item.cancheck && item.checkBox1 && item.checkBox2">ประกันและหลักประกัน</span>
            </td>
            <td class=" text-center">
              <a (click)="editAccused(item, i, 0)" class="text-secondary" data-toggle="modal"
                 data-target="#testimonyPopup" [hidden]="!showEditField">
                <i class="mdi mdi-eye fa-lg"></i>
              </a>
              <a *ngIf="item.cancheck" (click)="editAccused(item, i, 1)" class="text-warning" [hidden]="showEditField"
                 data-toggle="modal"
                 data-target="#testimonyPopup">
                <i class="ti-pencil-alt btn-action"></i>
              </a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>
</div>


<!-- บันทึกการเปรียบเทียบคดีและชำระค่าปรับ -->
<div class="card ">
  <div class="card-header  unset-radius">
    <app-card-actions-collapse></app-card-actions-collapse>
    <h4 class="card-title m-b-0">บันทึกการเปรียบเทียบคดีและชำระค่าปรับ</h4>
  </div>

  <div class="card-body">
    <div class="form-body">
      <div class="row">
        <div class="col-md-12">
          <div class="form-group row">
            <div class="custom-control custom-checkbox col-form-label col-md-4">
              <input class="col-form-label filled-in chk-col-indigo" id="IsOutside" type="checkbox"
                     [(ngModel)]="receipt.IsOutside" name="IsOutside"
                     [disabled]="showEditField || receipt.isHaveData" (checked)="IsOutside==1">
              <label for="IsOutside">คดีเปรียบเทียบนอกสถานที่ทำการ</label>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group row">
            <label class="col-form-label col-md-3">คดีเปรียบเทียบที่ : </label>
            <div class="row col-md-4">
                <div class="row col-md-4">
                    <span *ngIf="receipt.IsOutside" style="padding: 0.5rem;">น.</span>
                  </div>
                  <div class="row col-md-10">
                      <input class="form-control" type="text" [(ngModel)]="receipt.CompareNo" name="CompareNo"
                      [disabled]="showEditField || receipt.isHaveData">
                  </div>
            </div> <span style="font-size: 1.5rem">/</span>
            <div class="col-md-5">
                <!-- <my-date-picker-th [(ngModel)]="receipt.CompareYear" name="CompareYear"
                placeholder="" locale="th"
                [options]="YearOption"
                [disabled]="showEditField || receipt.isHaveData"
                aria-required="true" required></my-date-picker-th> -->
                <!-- <div class="row col-md-10">
                    <input class="form-control" type="text" [(ngModel)]="receipt.CompareYear" name="CompareNo"
                    [disabled]="showEditField || receipt.isHaveData">
                </div> -->
                <div class="row col-md-9">
                  <select class="form-control" [(ngModel)]="receipt.CompareYear" name="CompareYear" [disabled]="showEditField || receipt.isHaveData">
                    <option *ngFor="let item of year; let i=index;"  value="{{ item }}">{{ item }}</option>
                  </select>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="table-responsive">
      <table class="dataTable table table-sm table-striped table-hover">
        <thead>
        <tr>
          <th class="footable-sortable text-center">ลำดับ</th>
          <th class="footable-sortable">ชื่อผู้ต้องหา</th>
          <th class="footable-sortable text-center" style="width: 10rem">วันที่ชำระค่าปรับ</th>
          <th class="footable-sortable">ผู้รับชำระค่าปรับ</th>
          <th class="footable-sortable text-center">ช่องทางชำระ</th>
          <th class="footable-sortable text-center" style="width: 6rem">ใบเสร็จเล่มที่</th>
          <th class="footable-sortable text-center" style="width: 6rem">ใบเสร็จเลขที่</th>
          <th class="footable-sortable text-center" style="width: 10rem">เลขอ้างอิง</th>
          <th class="footable-sortable text-center">สถานะคดี</th>
          <th class="footable-sortable"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of receipt.list; let i=index;" class="footable">
          <td class="text-center">{{i + 1}}</td>
          <td>{{item.LawBrakerName}}</td>
          <td class="text-center">
              <my-date-picker-th [(ngModel)]="item.PaymentDate" [name]="'PaymentDate' + i"
              placeholder="" locale="th"
              [options]="DateOption"
              [disabled]="showEditField || ((!(item.CompareReceiptID == null || item.CompareReceiptID == undefined)) && (receipt.RevenueStatus > 0))"
              aria-required="true" required></my-date-picker-th>
          </td>
          <td>
              <div class="input-group col-md-12">
                  <input type="text" class="form-control"
                         [(ngModel)]="item.ReceiptStaff"
                         [name]="'ReceipStaff' + i"
                         placeholder="พิมพ์ข้อความ" aria-label="Number"
                         matInput [matAutocomplete]="autoStaff"
                         (input)="StaffonAutoChange($event.target.value)"
                         (focus)="StaffonAutoFocus($event.target.value)"
                         [disabled]="showEditField || item.CompareReceiptID  && (receipt.RevenueStatus > 0)" (keydown.Tab)="StaffonAutoSelecteWord(sOption, 1, i)">
                  <mat-autocomplete #autoStaff="matAutocomplete">
                    <mat-option *ngFor="let sOption of Staffoptions"
                                [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                                (click)="StaffonAutoSelecteWord(sOption, '1')" (onSelectionChange)="StaffonAutoSelecteWord(sOption, 1, i)">
                      {{ sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName }}
                    </mat-option>
                  </mat-autocomplete>
                  <!--<input class="form-control" type="text" [(ngModel)]="userCompareReceiptDetail.ReceipStaff"-->
                  <!--name="ReceipStaff"-->
                  <!--[disabled]="showEditField">-->
                </div>
          </td>
          <td class="text-center">
              <select class="custom-select col-12"
              [(ngModel)]="item.ReceiptChanel"
              [name]="'ReceiptChanel' + i" required [disabled]="(item.CompareReceiptID  && (receipt.RevenueStatus > 0)) || showEditField">
                <option value="1" [selected]="true">เงินสด</option>
                <option value="2">EDC</option>
                <option value="3">เครดิต</option>
                <option value="4">เดบิต</option>
              </select>
          </td>
          <td class="text-center">
              <input class="form-control" type="text"
              [(ngModel)]="item.ReceiptBookNo"
              name="ReceiptBookNo"
              [disabled]="showEditField || (item.CompareReceiptID  && (receipt.RevenueStatus > 0) )" [required]="!(item.ReceiptChanel > 1)">
          </td>
          <td class="text-center">
              <input class="form-control" type="text"
              [(ngModel)]="item.ReceiptNo"
              [name]="'ReceiptNo' + i"
              [disabled]="showEditField ||  (item.CompareReceiptID  && (receipt.RevenueStatus > 0) )" [required]="!(item.ReceiptChanel > 1)">
          </td>
          <td class="text-center">
              <input class="form-control" type="text"
              [(ngModel)]="item.ReferenceNo"
              name="ReferenceNo"
              [disabled]="showEditField || !(item.ReceiptChanel > 1) || (item.CompareReceiptID  && (receipt.RevenueStatus > 0) )" [required]="item.ReceiptChanel > 1">
          </td>
          <td></td>
          <td>
            <!-- <a *ngIf="isFilledReceipt(i)" (click)="editReceipt(item, i, 0)" class="text-secondary" data-toggle="modal"
               data-target="#payPopup">
              <i class="mdi mdi-eye fa-lg"></i>
            </a> -->
            <!-- <a (click)="editReceipt(item, i, 1)" class="text-warning" [hidden]="showEditField"
               data-toggle="modal"
               data-target="#payPopup" *ngIf="item.PaymentDateShow">
              <i class="ti-pencil-alt btn-action"></i>
            </a> -->
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- รายงานขออนุมัติการเปรียบเทียบคดีและแบบอนุมัติ -->
<div class="card ">
  <div class="card-header  unset-radius">
    <app-card-actions-collapse></app-card-actions-collapse>
    <h4 class="card-title m-b-0">รายงานขออนุมัติการเปรียบเทียบคดีและแบบอนุมัติ</h4>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="dataTable table table-sm table-striped table-hover">
        <thead>
        <tr>
          <th class="footable-sortable text-center" style="width:10%">ลำดับ</th>
          <th class="footable-sortable">ชื่อผู้ต้องหา</th>
          <th class="footable-sortable text-center" style="width:15%">วันที่จัดทำรายงานฯ</th>
          <th class="footable-sortable text-center" style="width:15%">แบบอนุมัติ</th>
          <th class="footable-sortable" style="width:10%"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of approveReportList; let i=index;" class="footable">
          <td class="text-center">{{i + 1}}</td>
          <td>{{ item.LawBrakerName }}</td>
          <td class="text-center">{{item.ApproveReportDateShow }}</td>
          <td class="text-center">{{ item.ApproveType ? 'แบบอนุมัติ ' + item.ApproveType : '' }}</td>
          <td>
            <a (click)="editApproveReport(item, i, 0)" class="text-secondary" data-toggle="modal"
               data-target="#approvePopup" *ngIf="receipt.list[i].PaymentDate">
              <i class="mdi mdi-eye fa-lg"></i>
            </a>
            <a (click)="editApproveReport(item, i, 1)" *ngIf="item.PaymentDate" class="text-warning" [hidden]="showEditField"
               data-toggle="modal"
               data-target="#approvePopup">
              <i class="ti-pencil-alt btn-action"></i>
            </a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- เอกสารแนบภายใน -->
<div class="card ">
  <div class="card-header  unset-radius">
    <app-card-actions-collapse></app-card-actions-collapse>
    <h4 class="card-title m-b-0">เอกสารแนบภายใน</h4>
  </div>
  <div class="card-body">
    <div class="text-right">
      <label for="btn-browse" [ngClass]="{disabled : showEditField}"
             class="btn waves-effect waves-light btn-navy" (click)="addNewFile()">
        เพิ่มเอกสารแนบ </label>
    </div>
    <div class="table-responsive">
      <table class="dataTable table table-sm table-striped table-hover">
        <thead>
        <tr>
          <th class="footable-sortable text-center">ลำดับ</th>
          <th class="footable-sortable">ชื่อเอกสารแนบ</th>
          <th class="footable-sortable">ที่อยู่เอกสารแนบ</th>
        </tr>
        </thead>
        <tbody>
        <tr class="footable" *ngFor="let item of AllAddFiles; let i=index;">

            <td class="text-center">{{ (i+1) }}</td>
            <td>
                <input class="form-control" type="text" name="fileName" [(ngModel)]="item.DocumentName"
                [disabled]="showEditField">
            </td>
            <td>
              <div class="input-group">
                  <input class="form-control" type="text" name="filePath" [(ngModel)]="item.FilePath"
                  [disabled]="true">
                <div class="input-group-append">
                  <input [id]="'arrestAttach'+i" type="file" (change)="handleFileInput($event, i)" hidden
                    [attr.disabled]="showEditField ? '' : null">
                  <label [for]="'arrestAttach'+i" class="input-group-text custom-file-upload text-secondary">
                    <i class="ti-more-alt"></i>
                  </label>
                </div>
              </div>
            </td>
            <td>
              <a href="javaScript:void(0)" class="text-warning" *ngIf="!showEditField" (click)="deleteFile(item.DocumentID, i)">
                <i class="fa fa-trash-o fa-lg"></i>
              </a>
            </td>
<!-- 
          <td class="text-center">{{ (i+1) }}</td>
          <td>
            <input class="form-control" type="text" name="fileName" [(ngModel)]="item.DocumentName"
                   [disabled]="showEditField">
          </td>
          <td>
            <input class="form-control" type="text" name="filePath" [(ngModel)]="item.FilePath"
                   [disabled]="true">
          </td>
          <td>
            <i class="ti-trash btn-action" [hidden]="showEditField"
               (click)="deleteFile(item.DocumentID, i)"></i>
          </td> -->
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<!-- Pop up คำให้การของผู้ต้องหา -->
<div class="modal fade" id="testimonyPopup" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header top-navbar text-white">
          ข้อมูลการปล่อยตัวชั่วคราว
        <div class="card-actions">
          <i class="ti-close text-white close-popup" data-dismiss="modal" data-target="testimonyPopup"></i>
        </div>
      </div>
      <div class="modal-body" *ngIf="editUser">
        <form #accusedPopupForm="ngForm" (ngSubmit)="submitAccused()" ngNativeValidate>
          <div class="text-right"> ILG60-06-02-02-00</div>
          <div class="form-body m-t-10">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ชื่อผู้ต้องหา : </label>
                  <div class="col-md-7">
                    <input class="form-control" type="text" [(ngModel)]="editUser.LawbreakerName"
                           name="ArrestName"
                           disabled>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ข้อมูลการปล่อยตัวชั่วคราว</label>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <div class="custom-control custom-checkbox col-form-label col-md-4">
                    <input class="col-form-label filled-in chk-col-indigo" name="checkBox1" [(ngModel)]="editUser.checkBox1" id="insurance"
                           type="checkbox" [checked]="editUser.checkBox2"
                           [disabled]="showEditField || editUser.checkBox2" [required]="!editUser.checkBox2">
                    <label for="insurance">ประกัน :</label>
                  </div>
                  <div class="col-md-7">
                    <input class="form-control" type="text" [(ngModel)]="editUser.Bail" name="Bail"
                           [disabled]="(!editUser.checkBox1 || showEditField) && !editUser.checkBox2" [required]="editUser.checkBox1">
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <div class="custom-control custom-checkbox col-form-label col-md-4">
                    <input class="col-form-label filled-in chk-col-indigo" id="collateral"
                           type="checkbox" name="checkBox2" [(ngModel)]="editUser.checkBox2" [disabled]="showEditField" [required]="!editUser.cancheck && !editUser.checkBox1">
                    <label for="collateral">หลักประกัน :</label>
                  </div>
                  <div class="col-md-7">
                    <input class="form-control" type="text" [(ngModel)]="editUser.Guaruntee"
                           name="Guaruntee"
                           [disabled]="!editUser.checkBox2 || showEditField" [required]="editUser.checkBox2">
                  </div>
                </div>
              </div>
            </div>

            <!-- <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-form-label col-md-12">การแจ้งสิทธิให้แจ้งญาติหรือผู้ซึ่งไว้วางใจทราบถึงการถูกจับและสถานที่ถูกควบคุม</label>
                </div>
              </div>
            </div> -->

            <!-- <div class="row">
              <div class="col-md-12">
                <div class="form-popup form-group row">
                  <div class="custom-control custom-radio col-form-label col-md-10">
                    <input name="RequestRadio" id="yRequest" [(ngModel)]="editUser.request" [value]="1"
                           class="col-form-label with-gap radio-col-indigo" type="radio"
                           [disabled]="showEditField" required> -->
                    <!-- [checked]="oCompareDetail.IsRequest=='1'" -->
                    <!-- <label for="yRequest">ร้องขอ</label>

                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <div class="custom-control custom-radio col-form-label col-md-10">
                    <input name="RequestRadio" id="nRequest" [(ngModel)]="editUser.request" [value]="0"
                           class="col-form-label with-gap radio-col-indigo"
                           type="radio" [attr.disabled]="showEditField"> -->
                    <!-- [checked]="oCompareDetail.IsRequest=='0'" -->
                    <!-- <label for="nRequest">ไม่ร้องขอ</label>

                  </div>
                </div>
              </div>
            </div> -->

            <!-- <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-form-label col-md-3">คำให้การของผู้ต้องหา : </label>
                  <div class="col-md-9">
<textarea class="form-control" [disabled]="showEditField" rows="5"
          [(ngModel)]="editUser.LawbrakerTestimony" name="LawbrakerTestimony"></textarea>
                  </div>
                </div>
              </div>
            </div> -->
          </div>
          <div class="text-right">
            <button type="submit" class="btn waves-effect waves-light btn-navy" [hidden]="showEditField">บันทึก</button>
            <button type="button" class="btn waves-effect waves-light btn-navy" [disabled]="showEditField"
                    data-toggle="modal" data-target="#testimonyPopup" id="btnAccuse"
                    (click)="saveAccused()" hidden>บันทึก
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- บันทึกการเปรียบเทียบคดีและชำระค่าปรับ -->
<div class="modal fade" id="payPopup" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <form #Form3="ngForm" (ngSubmit)="submitReceipt()" ngNativeValidate>
        <div class="modal-header text-white top-navbar">
          ชำระค่าปรับ
          <div class="card-actions">
            <i class="ti-close text-white close-popup" data-dismiss="modal" data-target="payPopup"></i>
          </div>
        </div>
        <div class="modal-body">
          <div class="text-right"> ILG60-06-02-03-00</div>
          <div class="form-body m-t-10">

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ชื่อผู้ต้องหา : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.LawBrakerName"
                           name="LawBrakerName" disabled>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ยอดชำระค่าปรับ : </label>
                  <div class="col-md-7">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.TotalFine"
                           name="TotalFine" [disabled]="userCompareReceiptDetail.CompareReceiptID">
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">วันที่ชำระค่าปรับ : </label>
                  <div class="col-md-3">
                    <my-date-picker-th [(ngModel)]="userCompareReceiptDetail.PaymentDate" name="PaymentDate"
                                       placeholder="" locale="th"
                                       [options]="DateOption"
                                       [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID"
                    aria-required="true" required></my-date-picker-th>
                    <!--<input class="form-control" type="date" [(ngModel)]="userCompareReceiptDetail.PaymentDate" name="PaymentDate"-->
                    <!--[disabled]="showEditField">-->
                  </div>
                  <label class="col-form-label text-center col-md-2">เวลา</label>
                  <div class="col-md-3">
                    <input class="form-control" type="time"
                           [(ngModel)]="userCompareReceiptDetail.PaymentTime"
                           name="PaymentTime"
                           [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID">
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">เขียนที่ : </label>
                  <div class="col-md-7">
                    <input type="text" class="form-control"
                           [(ngModel)]="userCompareReceiptDetail.ReceipStation"
                           name="ReceipStation"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="auto"
                           (input)="onAutoChange($event.target.value)"
                           (focus)="onAutoFocus($event.target.value)"
                           [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID" required (keydown.Tab)="chooseFirstOption($event, 3)">
                    <mat-autocomplete #auto="matAutocomplete">
                      <mat-option *ngFor="let option of options" [value]="option.OfficeShortName"
                                  (click)="onAutoSelecteWord(option, 3)">
                        {{ option.OfficeShortName }}
                      </mat-option>
                    </mat-autocomplete>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ผู้รับชำระค่าปรับ : </label>
                  <div class="input-group col-md-8">
                    <input type="text" class="form-control"
                           [(ngModel)]="userCompareReceiptDetail.ReceiptStaff"
                           name="ReceipStaff"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="autoStaff"
                           (input)="StaffonAutoChange($event.target.value)"
                           (focus)="StaffonAutoFocus($event.target.value)"
                           [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID" (keydown.Tab)="StaffonAutoSelecteWord(sOption, 1)">
                    <mat-autocomplete #autoStaff="matAutocomplete">
                      <mat-option *ngFor="let sOption of Staffoptions"
                                  [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                                  (click)="StaffonAutoSelecteWord(sOption, '1')" (onSelectionChange)="StaffonAutoSelecteWord(sOption, 1)">
                        {{ sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName }}
                      </mat-option>
                    </mat-autocomplete>
                    <!--<input class="form-control" type="text" [(ngModel)]="userCompareReceiptDetail.ReceipStaff"-->
                    <!--name="ReceipStaff"-->
                    <!--[disabled]="showEditField">-->
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ตำแหน่ง : </label>
                  <div class="col-md-7">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.ReceipPosition"
                           name="ReceipPosition" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">หน่วยงาน : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.ReceipDepartment"
                           name="ReceipDepartment"
                           disabled>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ช่องทางชำระค่าปรับ : </label>
                  <div class="col-md-7">
                    <select class="custom-select col-12"
                            [(ngModel)]="userCompareReceiptDetail.ReceiptChanel"
                            name="ReceiptChanel" required [disabled]="userCompareReceiptDetail.CompareReceiptID || showEditField">
                      <option value="1" selected>เงินสด</option>
                      <option value="2">EDC</option>
                      <option value="3">เครดิต</option>
                      <option value="4">เดบิต</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ใบเสร็จเล่มที่ : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.ReceiptBookNo"
                           name="ReceiptBookNo"
                           [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID" [required]="!(userCompareReceiptDetail.ReceiptChanel > 1)">
                  </div>
                </div>
              </div>
              <!-- <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-5">ใบเสร็จเลขที่ : </label>
                  <div class="col-md-7">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.ReceiptNo"
                           name="ReceiptNo"
                           [disabled]="showEditField || userCompareReceiptDetail.CompareReceiptID" [required]="!(userCompareReceiptDetail.ReceiptChanel > 1)">
                  </div>
                </div>
              </div> -->
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">หมายเลขอ้างอิง : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text"
                           [(ngModel)]="userCompareReceiptDetail.ReferenceNo"
                           name="ReferenceNo"
                           [disabled]="showEditField || !(userCompareReceiptDetail.ReceiptChanel > 1) || userCompareReceiptDetail.CompareReceiptID" [required]="userCompareReceiptDetail.ReceiptChanel > 1">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="text-right">
            <button (click)="userReceiptDelete()" type="button"
                    class="btn waves-effect waves-light btn-orange m-r-10"
                    data-toggle="modal"
                    data-target="#payPopup">ยกเลิกใบเสร็จ
            </button>
            <button class="btn waves-effect waves-light btn-navy" [hidden]="userCompareReceiptDetail.CompareReceiptID">บันทึก</button>
            <button (click)="userReceiptSave()" type="button" class="btn waves-effect waves-light btn-navy"
                    data-toggle="modal" id="receiptSave" 
                    data-target="#payPopup" hidden>บันทึก
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<!-- รายงานขออนุมัติการเปรียบเทียบคดีและแบบอนุมัติ -->
<div class="modal fade" id="approvePopup" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header top-navbar text-white">
        รายงานขออนุมัติการเปรียบเทียบคดีและแบบอนุมัติ
        <div class="card-actions">
          <i class="ti-close text-white close-popup" data-dismiss="modal" data-target="approvePopup"></i>
        </div>
      </div>
      <div class="modal-body">
        <form #Form4="ngForm" (ngSubmit)="onSubmit()" ngNativeValidate>
          <div class="text-right"> ILG60-06-02-04-00</div>
          <div class="form-body m-t-10">

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ชื่อผู้ต้องหา : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="fullName"
                           [(ngModel)]="compareUserDetailPopup.LawBrakerName" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">วันที่ชำระค่าปรับ : </label>
                  <div class="col-md-3">
                    <my-date-picker-th [(ngModel)]="compareUserDetailPopup.payDate" name="payDate" placeholder="" locale="th"
                                       [options]="DateOption"
                                       [disabled]="true"
                    ></my-date-picker-th>
                  </div>
                  <label class="col-form-label text-center col-md-2">เวลา</label>
                  <div class="col-md-3">
                    <input class="form-control" type="time" name="payTime"
                           [(ngModel)]="compareUserDetailPopup.payTime" disabled>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ค่าปรับคดีรวม : </label>
                  <div class="col-md-8">
                    <input class="form-control" type="text" name="payAmount"
                           [(ngModel)]="compareUserDetailPopup.payAmount" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">เขียนที่ : </label>
                  <div class="input-group col-md-8">
                    <input type="text" class="form-control"
                           [(ngModel)]="compareUserDetailPopup.ApproveStation"
                           name="ReceipStation"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="auto"
                           (input)="onAutoChange($event.target.value)"
                           (focus)="onAutoFocus($event.target.value)"
                           [disabled]="showEditField" required (keydown.Tab)="chooseFirstOption($event, 2)">
                    <mat-autocomplete #auto="matAutocomplete">
                      <mat-option *ngFor="let option of options" [value]="option.OfficeShortName"
                                  (click)="onAutoSelecteWord(option, '2')">
                        {{ option.OfficeShortName }}
                      </mat-option>
                    </mat-autocomplete>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">วันที่จัดทำรายงานฯ : </label>
                  <div class="col-md-8">
                    <my-date-picker-th [(ngModel)]="compareUserDetailPopup.ApproveReportDate" name="ApproveReportDate" placeholder="" locale="th"
                                       [options]="DateOption"
                                       [disabled]="showEditField"
                    ></my-date-picker-th>
                    <!--<input class="form-control" type="date"  [(ngModel)]="compareUserDetailPopup.ApproveReportDate" name="ApproveReportDate"-->
                    <!--[disabled]="showEditField">-->
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-form-label col-md-2">แบบอนุมัติ : </label>
                  <div class="custom-control custom-radio col-form-label col-md-8">
                    <input name="approveRadio" id="typeOne" [value]="1" (click)="clearStaff()"
                           class="col-form-label with-gap radio-col-indigo" [(ngModel)]="compareUserDetailPopup.ApproveType" type="radio"  [disabled]="showEditField">
                    <label for="typeOne" class="col-4">แบบอนุมัติ 1 (คด.3)</label>
                    <input name="approveRadio" id="typeTwo" [value]="2"
                           class="col-form-label with-gap radio-col-indigo" type="radio" [(ngModel)]="compareUserDetailPopup.ApproveType"  [disabled]="showEditField">
                    <label for="typeTwo" class="col-4">แบบอนุมัติ 2 (คด.4)</label>
                    <input name="approveRadio" id="typeThree" [value]="3"
                           class="col-form-label with-gap radio-col-indigo" [(ngModel)]="compareUserDetailPopup.ApproveType"
                           type="radio"  [disabled]="showEditField">
                    <label for="typeThree" class="col-4">แบบอนุมัติ 3 (คด.5)</label>
                    <input name="approveRadio" id="typeFour" [value]="4"
                           class="col-form-label with-gap radio-col-indigo" [(ngModel)]="compareUserDetailPopup.ApproveType"
                           type="radio"  [disabled]="showEditField">
                    <label for="typeFour" class="col-4">แบบอนุมัติ 4 (คด.6)</label>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ผู้เสนอพิจารณาเห็นชอบ : </label>
                  <div class="col-md-8">
                    <input type="text" class="form-control"
                           [(ngModel)]="compareUserDetailPopup.staff" name="staff"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="autoStaff2"
                           (input)="StaffonAutoChange($event.target.value)"
                           (focus)="StaffonAutoFocus($event.target.value)"
                           [disabled]="showEditField || (compareUserDetailPopup.ApproveType) == 1" [required]="(compareUserDetailPopup.ApproveType) > 1"  (keydown.Tab)="StaffonAutoSelecteWord(sOption, 3)">
                    <mat-autocomplete #autoStaff2="matAutocomplete">
                      <mat-option *ngFor="let sOption of Staffoptions"
                                  [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                                  (click)="StaffonAutoSelecteWord(sOption, 3)" (onSelectionChange)="StaffonAutoSelecteWord(sOption, 3)">
                        {{ sOption.TitleName }}{{ sOption.FirstName }} {{ sOption.LastName }}
                      </mat-option>
                    </mat-autocomplete>
                    <!--<input class="form-control" type="text" name="staff" [(ngModel)]="compareUserDetailPopup.staff" [disabled]="showEditField">-->
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ตำแหน่ง : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="postion1"
                           [(ngModel)]="compareUserDetailPopup.position1" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">หน่วยงาน : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="deparment1"
                           [(ngModel)]="compareUserDetailPopup.department1" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ผู้พิจารณาเห็นชอบ : </label>
                  <div class="input-group col-md-8">
                    <input type="text" class="form-control"
                           [(ngModel)]="compareUserDetailPopup.reviewer" name="reviewer"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="autoStaff3"
                           (input)="StaffonAutoChange($event.target.value)"
                           (focus)="StaffonAutoFocus($event.target.value)"
                           [disabled]="showEditField" required  (keydown.Tab)="StaffonAutoSelecteWord(sOption, 4)">
                    <mat-autocomplete #autoStaff3="matAutocomplete">
                      <mat-option *ngFor="let sOption of Staffoptions"
                                  [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                                  (click)="StaffonAutoSelecteWord(sOption, 4)" (onSelectionChange)="StaffonAutoSelecteWord(sOption, 4)">
                        {{ sOption.TitleName }}{{ sOption.FirstName }} {{ sOption.LastName }}
                      </mat-option>
                    </mat-autocomplete>
                    <!--<input class="form-control" type="text" name="reviewer" [disabled]="showEditField" [(ngModel)]="compareUserDetailPopup.reviewer">-->
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ตำแหน่ง : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="rank"
                           [(ngModel)]="compareUserDetailPopup.rank" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">หน่วยงาน : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="deparment2"
                           [(ngModel)]="compareUserDetailPopup.department2" disabled>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ผู้มีอำนาจอนุมัติ : </label>
                  <div class="input-group col-md-8">
                    <input type="text" class="form-control"
                           [(ngModel)]="compareUserDetailPopup.approver" name="approver"
                           placeholder="พิมพ์ข้อความ" aria-label="Number"
                           matInput [matAutocomplete]="autoStaff4"
                           (input)="StaffonAutoChange($event.target.value)"
                           (focus)="StaffonAutoFocus($event.target.value)"
                           [disabled]="showEditField" required (keydown.Tab)="StaffonAutoSelecteWord(sOption, 5)">
                    <mat-autocomplete #autoStaff4="matAutocomplete">
                      <mat-option *ngFor="let sOption of Staffoptions"
                                  [value]="sOption.TitleName + sOption.FirstName + ' ' + sOption.LastName"
                                  (click)="StaffonAutoSelecteWord(sOption, '5')" (onSelectionChange)="StaffonAutoSelecteWord(sOption, 5)">
                        {{ sOption.TitleName }}{{ sOption.FirstName }} {{ sOption.LastName }}
                      </mat-option>
                    </mat-autocomplete>
                    <!--<input class="form-control" type="text" name="approver" [(ngModel)]="compareUserDetailPopup.approver" [disabled]="showEditField">-->
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ตำแหน่ง : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="rank2"
                           [(ngModel)]="compareUserDetailPopup.rank2" disabled>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">หน่วยงาน : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="department3"
                           [(ngModel)]="compareUserDetailPopup.department3" disabled>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">คำสั่งกรมฯ ที่ : </label>
                  <div class="input-group col-md-8">
                    <input class="form-control" type="text" name="departOrder"
                           [(ngModel)]="compareUserDetailPopup.departOrder"
                           [disabled]="showEditField" required>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">วันที่ออกคำสั่ง : </label>
                  <div class="col-md-8">
                    <my-date-picker-th [(ngModel)]="compareUserDetailPopup.dateOfIssue" name="dateOfIssue" placeholder="" locale="th"
                                       [options]="DateOption"
                                       [disabled]="showEditField" [required]="true"
                    ></my-date-picker-th>
                    <!--<input class="form-control" type="date"  [(ngModel)]="compareUserDetailPopup.ApproveReportDate" name="ApproveReportDate"-->
                    <!--[disabled]="showEditField">-->
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">ข้อเท็จจริงเกี่ยวกับความผิดโดยละเอียด
                    : </label>
                  <div class="col-md-8">
                                        <textarea class="form-control" [disabled]="showEditField" rows="5"
                                                  name="detailFact"
                                                  [(ngModel)]="compareUserDetailPopup.detailFact" required></textarea>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-form-label col-md-4">เหตุผลที่ควรเปรียบเทียบคดีและ/หรือจัดการของกลาง
                    :</label>
                  <div class="col-md-8">
                                        <textarea class="form-control" [disabled]="showEditField" name="other" rows="5"
                                                  [(ngModel)]="compareUserDetailPopup.other"></textarea>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="text-right">
            <button type="submit" class="btn waves-effect waves-light btn-navy" [disabled]="showEditField">บันทึก</button>
            <button type="button" (click)="saveApprove()" class="btn waves-effect waves-light btn-navy"
                    data-toggle="modal"
                    data-target="#approvePopup" id="btnApprove" hidden>บันทึก
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
