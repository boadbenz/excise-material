{"version":3,"sources":["./src/app/pages/fine/list/list.component.html","./src/app/pages/fine/list/list.component.ts","./src/app/pages/fine/list/list.module.ts","./src/app/shared/pipe/ContributorPipe.ts"],"names":[],"mappings":"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","file":"list.module.3.chunk.js","sourcesContent":["module.exports = \"<div *ngIf=\\\"advSearch | async\\\" class=\\\"card card-outline-bluish unset-radius\\\">\\r\\n  <div class=\\\"card-header unset-radius\\\">\\r\\n    <app-card-actions-close></app-card-actions-close>\\r\\n    <h4 class=\\\"card-title m-b-0\\\">ค้นหาขั้นสูง</h4>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"card-body\\\">\\r\\n    <form class=\\\"form-horizontal\\\" #advForm=\\\"ngForm\\\" (ngSubmit)=\\\"onAdvSearch(advForm)\\\">\\r\\n      <div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่ใบงาน :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"ArrestCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่คดีรับคำกล่าวโทษ :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"LawsuitCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">ทะเบียนตรวจพิสูจน์ :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"ProveReportNo\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">เลขที่เปรียบเทียบคดี :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"CompareCode\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">วันที่เปรียบเทียบคดี :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group input-group form-line\\\">\\r\\n              <input type=\\\"date\\\"  [(ngModel)]=\\\"CompareDateFrom\\\" name=\\\"CompareDateFrom\\\"  (blur)=\\\"varidateCDF(advForm,$event)\\\"  ngModel class=\\\"form-control \\\" placeholder=\\\"วว/ดด/ปปปป\\\">\\r\\n              <label class=\\\"col-2 control-label text-center padding-adv-search\\\">ถึง</label>\\r\\n              <input type=\\\"date\\\" [(ngModel)]=\\\"CompareDateTo\\\" name=\\\"CompareDateTo\\\"  (blur)=\\\"varidateCDE(advForm,$event)\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"วว/ดด/ปปปป\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <input type=\\\"hidden\\\" name=\\\"ProgramCode\\\" ngModel>\\r\\n          <input type=\\\"hidden\\\" name=\\\"ProcessCode\\\" ngModel>\\r\\n\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">ผู้เปรียบเทียบคดี :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"Staff\\\" ngModel class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <label for=\\\"\\\" class=\\\"col-md-2 control-label padding-adv-search\\\">หน่วยงาน :</label>\\r\\n          <div class=\\\"col-md-4 padding-input-adv-search\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <div class=\\\"form-line\\\">\\r\\n                <input type=\\\"text\\\" name=\\\"Department\\\" ngModel  class=\\\"form-control \\\" placeholder=\\\"\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row form-group\\\">\\r\\n          \\r\\n            <div class=\\\"col-10\\\"></div>\\r\\n            <div class=\\\"col-2\\\">\\r\\n                <button type=\\\"submit\\\" class=\\\"btn btn-block btn-themecolor\\\">ค้นข้อมูล</button>\\r\\n            </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"card\\\">\\r\\n  <div class=\\\"card-body\\\">\\r\\n\\r\\n    <div class=\\\"table-responsive table-striped \\\">\\r\\n      <table #fineTable class=\\\"table\\\">\\r\\n        <thead>\\r\\n          <tr>\\r\\n            <th class=\\\"text-center\\\">ลำดับ</th>\\r\\n            <th>เลขที่ใบงาน</th>\\r\\n            <th style=\\\"text-align: center\\\">เลขที่คดีรับคำกล่าว</th>\\r\\n            <th>ทะเบียนตรวจพิสูจน์</th>\\r\\n            <th style=\\\"text-align: center\\\">เลขที่เปรียบเทียบคดี</th>\\r\\n            <th>ผู้เปรียบเทียบคดี</th>\\r\\n            <th style=\\\"text-align: center\\\">วันที่เปรียบเทียบคดี</th>\\r\\n            <th>หน่วยงาน</th>\\r\\n            <th></th>\\r\\n          </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let item of CompareList; let i=index;\\\">\\r\\n            <td style=\\\"text-align: center\\\">{{i + 1}}</td>\\r\\n            <td>{{item.ArrestCode}}</td>\\r\\n            <td style=\\\"text-align: center\\\">\\r\\n              <div *ngIf=\\\"item.IsOutside == 1\\\">น {{item.Lawsuilt}}</div>\\r\\n              <div *ngIf=\\\"item.IsOutside != 1\\\">{{item.Lawsuilt}}</div>\\r\\n            </td>\\r\\n            <td>{{item.ProveReportNo}}</td>\\r\\n            <td style=\\\"text-align: center\\\">\\r\\n              <div *ngIf=\\\"item.IsOutside == 1\\\">น {{item.CompareCode}}</div>\\r\\n              <div *ngIf=\\\"item.IsOutside != 1\\\">{{item.CompareCode}}</div>\\r\\n            </td>\\r\\n            <td>\\r\\n                <div *ngFor=\\\"let staff of item.CompareStaff | ContributorPipe:18;\\\">{{staff.TitleName}}{{staff.FirstName}} {{staff.LastName}}</div>\\r\\n            </td>\\r\\n            <td style=\\\"text-align: center\\\">{{item.CompareDate | date:'dd-MM-yyyy'}}</td>\\r\\n            <td>\\r\\n                <div *ngFor=\\\"let staff of item.CompareStaff | ContributorPipe:18;\\\">{{staff.DepartmentName}}</div>\\r\\n            </td>\\r\\n            <td class=\\\"text-center\\\">\\r\\n              <a href=\\\"javaScript:void(0);\\\" class=\\\"text-secondary\\\" (click)=\\\"clickView(item.LawsuitID,item.ArrestCode,item.CompareID)\\\">\\r\\n                <i class=\\\"mdi mdi-eye fa-lg\\\"></i>\\r\\n              </a>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"card-footer card-footer-unset\\\">\\r\\n      <app-pagination-table [TotalItems]=\\\"paginage.TotalItems\\\" [CurrentPage]=\\\"paginage.CurrentPage\\\" [PageSize]=\\\"paginage.PageSize\\\"\\r\\n        [RowsPerPageOptions]=\\\"paginage.RowsPerPageOptions\\\" (onPageChange)=\\\"pageChanges($event)\\\">\\r\\n      </app-pagination-table>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/fine/list/list.component.html\n// module id = ./src/app/pages/fine/list/list.component.html\n// module chunks = list.module.3","import { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NavigationService } from '../../../shared/header-navigation/navigation.service';\r\nimport { FineService } from '../fine.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Compare } from '../compare';\r\nimport { pagination } from '../../../config/pagination';\r\nimport { Message } from '../../../config/message';\r\nimport { PreloaderService } from '../../../shared/preloader/preloader.component';\r\nimport { FormGroup, FormControl } from \"@angular/forms\";\r\n\r\n@Component({\r\n    selector: 'app-list',\r\n    templateUrl: './list.component.html'\r\n})\r\nexport class ListComponent implements OnInit, OnDestroy {\r\n\r\n    advSearch: any;\r\n    Compare = new Array<Compare>();\r\n    CompareList = new Array<Compare>();\r\n    paginage = pagination;\r\n    private subOnSearch: any;\r\n\r\n    @ViewChild('fineTable') fineTable: ElementRef;\r\n\r\n    CompareDateFrom = \"\";\r\n    CompareDateTo = \"\";\r\n\r\n    constructor(\r\n        private _router: Router,\r\n        private navService: NavigationService,\r\n        private fineService: FineService,\r\n        private preLoaderService: PreloaderService\r\n    ) {\r\n        // set false\r\n        this.navService.setEditButton(false);\r\n        this.navService.setDeleteButton(false);\r\n        this.navService.setPrintButton(false);\r\n        this.navService.setSaveButton(false);\r\n        this.navService.setCancelButton(false);\r\n        this.navService.setNextPageButton(false);\r\n        // set true\r\n        this.navService.setSearchBar(true);\r\n        this.navService.setNewButton(false);\r\n        this.advSearch = this.navService.showAdvSearch;\r\n    }\r\n\r\n    async ngOnInit() {\r\n        // {\"ArrestCode\":\"\",\"LawsuitCode\":\"\",\"ProveReportNo\":\"\",\"CompareCode\":\"\",\"CompareDateFrom\":null,\"CompareDateTo\":null,\"ProgramCode\":\"XCS06\",\"ProcessCode\":\"01\",\"Staff\":\"\",\"Department\":\"\"}\r\n\r\n        const form = new FormGroup({\r\n            ArrestCode: new FormControl(\"\"),\r\n            LawsuitCode: new FormControl(\"\"),\r\n            ProveReportNo: new FormControl(\"\"),\r\n            CompareCode: new FormControl(\"\"),\r\n            CompareDateFrom: new FormControl(\"\"),\r\n            CompareDateTo: new FormControl(\"\"),\r\n            ProgramCode: new FormControl(\"\"),\r\n            ProcessCode: new FormControl(\"\"),\r\n            Staff: new FormControl(\"\"),\r\n            Department: new FormControl(\"\"),\r\n\r\n        });\r\n\r\n        this.onAdvSearch(form);\r\n        // this.onSearch({ Textsearch: \"\" });\r\n\r\n\r\n        this.preLoaderService.setShowPreloader(true);\r\n\r\n        this.subOnSearch = await this.navService.searchByKeyword.subscribe(async Textsearch => {\r\n            if (Textsearch) {\r\n                await this.navService.setOnSearch('');\r\n                await this.onSearch(Textsearch);\r\n            }\r\n        });\r\n\r\n        this.preLoaderService.setShowPreloader(false);\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.subOnSearch.unsubscribe();\r\n    }\r\n\r\n    async onSearch(Textsearch: any) {\r\n        await this.fineService.getByKeyword(Textsearch).subscribe(list => {\r\n            this.onSearchComplete(list)\r\n        }, (err: HttpErrorResponse) => {\r\n            alert(err.message);\r\n        });\r\n    }\r\n\r\n    async onAdvSearch(form: any) {\r\n\r\n        const sDateCompare = new Date(form.value.CompareDateFrom);\r\n        const eDateCompare = new Date(form.value.CompareDateTo);\r\n\r\n        if (sDateCompare.getTime() > eDateCompare.getTime()) {\r\n            alert(Message.checkRevenueDate);\r\n        } else {\r\n            form.value.CompareDateFrom = sDateCompare.getTime();\r\n            form.value.CompareDateTo = eDateCompare.getTime();\r\n\r\n            if (isNaN(form.value.CompareDateFrom)) {\r\n                form.value.CompareDateFrom = \"\";\r\n                form.value.CompareDateTo = \"\";\r\n            }\r\n\r\n            form.value.ProgramCode = \"\";\r\n            form.value.ProcessCode = \"\";\r\n\r\n\r\n            await this.fineService.getByConAdv(form.value).then(async list => {\r\n                this.onSearchComplete(list)\r\n            }, (err: HttpErrorResponse) => {\r\n                alert(err.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    onSearchComplete(list: any) {\r\n        // this.Compare = [];\r\n        // console.log(\"getByConAdv\");\r\n        // console.log(list);\r\n        // if (!list.length) {\r\n        //     alert(Message.noRecord);\r\n        //     return false;\r\n        // }\r\n\r\n        // if (Array.isArray(list)) {\r\n        //     this.Compare = list;\r\n        // } else {\r\n        //     this.Compare.push(list);\r\n        // }\r\n\r\n        // set total record\r\n        // this.paginage.TotalItems = this.Compare.length;\r\n        // this.CompareList = this.Compare.slice(0, this.paginage.RowsPerPageOptions[0]);\r\n    }\r\n\r\n    clickView(LawsuitID: string, ArrestCode: string, CompareID: string) {\r\n        if (CompareID == null || CompareID == \"\")\r\n            CompareID = \"0\";\r\n\r\n        this._router.navigate([`/fine/manage/R/${LawsuitID}/${ArrestCode}/${CompareID}`]);\r\n    }\r\n\r\n    async pageChanges(event) {\r\n        this.CompareList = await this.Compare.slice(event.startIndex - 1, event.endIndex);\r\n    }\r\n\r\n    varidateCDF(form: any) {\r\n        const sDateCompare = new Date(form.value.CompareDateFrom);\r\n        const eDateCompare = new Date(form.value.CompareDateTo);\r\n\r\n        if (sDateCompare.getTime() > eDateCompare.getTime()) {\r\n            alert(Message.checkReceiveDate);\r\n            this.CompareDateFrom = \"\";\r\n        }\r\n    }\r\n\r\n    varidateCDE(form: any) {\r\n        const sDateCompare = new Date(form.value.CompareDateFrom);\r\n        const eDateCompare = new Date(form.value.CompareDateTo);\r\n\r\n        if (sDateCompare.getTime() > eDateCompare.getTime()) {\r\n            alert(Message.checkReceiveDate);\r\n            this.CompareDateTo = \"\";\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/fine/list/list.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListComponent } from './list.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CardActionsModule } from '../../component/card-actions/card-actions.module';\r\nimport { FineService } from '../fine.service';\r\nimport { HttpModule } from '@angular/http';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { PaginationTableModule } from '../../component/pagination-table/pagination-table.module';\r\nimport { ContributorPipe } from '../../../shared/pipe/ContributorPipe';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        data: {\r\n            // title: 'ค้นหาข้อมูล',\r\n            urls: [{ title: 'หน้าหลัก', url: '/' }, { title: 'ค้นหางานเปรียบเทียบและชำระค่าปรับ' }],\r\n            pageType: 'list',\r\n            nextPage: { title: 'แจ้งความ', url: '/fine/manage' }\r\n        },\r\n        component: ListComponent\r\n    }\r\n]\r\n\r\n@NgModule({\r\n    imports: [\r\n      CommonModule,\r\n      HttpModule,\r\n      HttpClientModule,\r\n      FormsModule,\r\n      RouterModule.forChild(routes),\r\n      CardActionsModule,\r\n      PaginationTableModule\r\n    ],\r\n    declarations: [ListComponent,ContributorPipe],\r\n    providers: [FineService]\r\n})\r\nexport class ListModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/fine/list/list.module.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'ContributorPipe',\r\n    pure: false\r\n})\r\n\r\nexport class ContributorPipe implements PipeTransform {\r\n    transform(items: any[], code: string): any {\r\n        let result = items.filter(item => item.ContributorCode == code);\r\n\r\n        if(result.length > 0) { return result; }\r\n        else { \r\n            let result = [  \r\n                {  \r\n                    TitleName: '-', \r\n                    FirstName: '', \r\n                    LastName: '' \r\n                }\r\n            ];  \r\n\r\n            return result;\r\n        }\r\n         \r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/pipe/ContributorPipe.ts"],"sourceRoot":"webpack:///"}